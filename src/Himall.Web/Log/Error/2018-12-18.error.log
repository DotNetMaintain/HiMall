


 记录时间：2018-12-18 09:50:00,950 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay  
错误描述：支付页面加载支付插件出错： 

System.ApplicationException: 预支付失败：JSAPI支付必须传openid
   在 Himall.Plugin.Payment.WeiXinPay.Service.GetRequestUrl(String returnUrl, String notifyUrl, String orderId, Decimal totalFee, String productInfo, String openId)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay(String pmtid, String ids) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 175



 记录时间：2018-12-18 09:53:54,099 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay  
错误描述：支付页面加载支付插件出错： 

System.ApplicationException: 预支付失败：JSAPI支付必须传openid
   在 Himall.Plugin.Payment.WeiXinPay.Service.GetRequestUrl(String returnUrl, String notifyUrl, String orderId, Decimal totalFee, String productInfo, String openId)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay(String pmtid, String ids) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 175



 记录时间：2018-12-18 10:00:54,543 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay  
错误描述：支付页面加载支付插件出错： 

System.ArgumentOutOfRangeException: 长度不能小于 0。
参数名: length
   在 System.String.Substring(Int32 startIndex, Int32 length)
   在 Himall.Plugin.Payment.Alipay.Base.Submit.ParseResponse(String strText, Config _config)
   在 Himall.Plugin.Payment.Alipay_WAP.Service.GetRequestUrl(String returnUrl, String notifyUrl, String orderId, Decimal totalFee, String productInfo, String openId)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay(String pmtid, String ids) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 175



 记录时间：2018-12-18 10:17:53,400 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay  
错误描述：支付页面加载支付插件出错： 

System.ApplicationException: 预支付失败：JSAPI支付必须传openid
   在 Himall.Plugin.Payment.WeiXinPay.Service.GetRequestUrl(String returnUrl, String notifyUrl, String orderId, Decimal totalFee, String productInfo, String openId)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay(String pmtid, String ids) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 175



 记录时间：2018-12-18 10:32:00,094 
日志级别：  ERROR 
出错类：Himall.Service.WXApiService.GetTicket  
错误描述：请求Ticket出错，强制刷新acess_token 

Senparc.Weixin.Exceptions.ErrorJsonResultException: 微信请求发生错误！错误代码：40164，说明：invalid ip 222.64.199.11, not in whitelist hint: [k9Ckpa00951512]
   在 Senparc.Weixin.HttpUtility.Get.GetJson[T](String url, Encoding encoding)
   在 Senparc.Weixin.MP.CommonAPIs.CommonApi.GetToken(String appid, String secret, String grant_type)
   在 Senparc.Weixin.MP.CommonAPIs.AccessTokenContainer.GetTokenResult(String appId, Boolean getNewToken)
   在 Senparc.Weixin.MP.CommonAPIs.AccessTokenContainer.GetToken(String appId, Boolean getNewToken)
   在 Himall.Service.WXApiService.TryGetToken(String appId, String appSecret, Boolean getNewToken) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Service\Weixin\WXApiService.cs:行号 139
   在 Himall.Service.WXApiService.GetTicket(String appid, String appsecret) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Service\Weixin\WXApiService.cs:行号 92



 记录时间：2018-12-18 10:45:34,968 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay  
错误描述：支付页面加载支付插件出错： 

System.ApplicationException: 预支付失败：JSAPI支付必须传openid
   在 Himall.Plugin.Payment.WeiXinPay.Service.GetRequestUrl(String returnUrl, String notifyUrl, String orderId, Decimal totalFee, String productInfo, String openId)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay(String pmtid, String ids) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 175



 记录时间：2018-12-18 10:56:19,156 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay  
错误描述：支付页面加载支付插件出错： 

System.ApplicationException: 预支付失败：JSAPI支付必须传openid
   在 Himall.Plugin.Payment.WeiXinPay.Service.GetRequestUrl(String returnUrl, String notifyUrl, String orderId, Decimal totalFee, String productInfo, String openId)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay(String pmtid, String ids) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 175



 记录时间：2018-12-18 11:07:11,916 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay  
错误描述：支付页面加载支付插件出错： 

System.ApplicationException: 预支付失败：JSAPI支付必须传openid
   在 Himall.Plugin.Payment.WeiXinPay.Service.GetRequestUrl(String returnUrl, String notifyUrl, String orderId, Decimal totalFee, String productInfo, String openId)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay(String pmtid, String ids) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 175



 记录时间：2018-12-18 11:08:11,953 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay  
错误描述：支付页面加载支付插件出错： 

System.ApplicationException: 预支付失败：JSAPI支付必须传openid
   在 Himall.Plugin.Payment.WeiXinPay.Service.GetRequestUrl(String returnUrl, String notifyUrl, String orderId, Decimal totalFee, String productInfo, String openId)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay(String pmtid, String ids) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 175



 记录时间：2018-12-18 11:16:32,865 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay  
错误描述：支付页面加载支付插件出错： 

System.ApplicationException: 预支付失败：JSAPI支付必须传openid
   在 Himall.Plugin.Payment.WeiXinPay.Service.GetRequestUrl(String returnUrl, String notifyUrl, String orderId, Decimal totalFee, String productInfo, String openId)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Pay(String pmtid, String ids) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 175



 记录时间：2018-12-18 11:21:48,202 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Notify  
错误描述：移动端支付异步通知返回出错，支持方式：Himall.Plugin.Payment.WeiXinPay 

System.Xml.XmlException: 根级别上的数据无效。 第 1 行，位置 1。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.Throw(String res, String arg)
   在 System.Xml.XmlTextReaderImpl.ParseRootLevelWhitespace()
   在 System.Xml.XmlTextReaderImpl.ParseDocumentContent()
   在 System.Xml.XmlTextReaderImpl.Read()
   在 System.Xml.XmlLoader.Load(XmlDocument doc, XmlReader reader, Boolean preserveWhitespace)
   在 System.Xml.XmlDocument.Load(XmlReader reader)
   在 System.Xml.XmlDocument.Load(Stream inStream)
   在 Himall.WeixinPaymentBase.ResponseHandler..ctor(HttpRequestBase request)
   在 Himall.WeixinPaymentBase.ServiceBase.ProcessNotify(HttpRequestBase request)
   在 Himall.Plugin.Payment.WeiXinPay.Service.Himall.Core.Plugins.Payment.IPaymentPlugin.ProcessNotify(HttpRequestBase context)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Notify(String id) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 284



 记录时间：2018-12-18 11:22:25,038 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Notify  
错误描述：移动端支付异步通知返回出错，支持方式：Himall.Plugin.Payment.WeiXinPay 

System.Xml.XmlException: 根级别上的数据无效。 第 1 行，位置 1。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.Throw(String res, String arg)
   在 System.Xml.XmlTextReaderImpl.ParseRootLevelWhitespace()
   在 System.Xml.XmlTextReaderImpl.ParseDocumentContent()
   在 System.Xml.XmlTextReaderImpl.Read()
   在 System.Xml.XmlLoader.Load(XmlDocument doc, XmlReader reader, Boolean preserveWhitespace)
   在 System.Xml.XmlDocument.Load(XmlReader reader)
   在 System.Xml.XmlDocument.Load(Stream inStream)
   在 Himall.WeixinPaymentBase.ResponseHandler..ctor(HttpRequestBase request)
   在 Himall.WeixinPaymentBase.ServiceBase.ProcessNotify(HttpRequestBase request)
   在 Himall.Plugin.Payment.WeiXinPay.Service.Himall.Core.Plugins.Payment.IPaymentPlugin.ProcessNotify(HttpRequestBase context)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Notify(String id) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 284



 记录时间：2018-12-18 11:26:15,540 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Notify  
错误描述：移动端支付异步通知返回出错，支持方式：Himall.Plugin.Payment.WeiXinPay 

System.Xml.XmlException: 根级别上的数据无效。 第 1 行，位置 1。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.Throw(String res, String arg)
   在 System.Xml.XmlTextReaderImpl.ParseRootLevelWhitespace()
   在 System.Xml.XmlTextReaderImpl.ParseDocumentContent()
   在 System.Xml.XmlTextReaderImpl.Read()
   在 System.Xml.XmlLoader.Load(XmlDocument doc, XmlReader reader, Boolean preserveWhitespace)
   在 System.Xml.XmlDocument.Load(XmlReader reader)
   在 System.Xml.XmlDocument.Load(Stream inStream)
   在 Himall.WeixinPaymentBase.ResponseHandler..ctor(HttpRequestBase request)
   在 Himall.WeixinPaymentBase.ServiceBase.ProcessNotify(HttpRequestBase request)
   在 Himall.Plugin.Payment.WeiXinPay.Service.Himall.Core.Plugins.Payment.IPaymentPlugin.ProcessNotify(HttpRequestBase context)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Notify(String id) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 284



 记录时间：2018-12-18 13:05:07,098 
日志级别：  ERROR 
出错类：Himall.Web.Framework.BaseController.OnException  
错误描述：页面未捕获的异常：Area:Mobile,Controller:payment,Action:get,id:Get:post:orderIds=2018121870371752 

System.Data.Entity.Core.EntityCommandExecutionException: 执行命令定义时出错。有关详细信息，请参阅内部异常。 ---> MySql.Data.MySqlClient.MySqlException: Timeout expired.  The timeout period elapsed prior to completion of the operation or the server is not responding. ---> System.TimeoutException: Timeout in IO operation
   在 MySql.Data.MySqlClient.TimedStream.StopTimer()
   在 MySql.Data.MySqlClient.TimedStream.Read(Byte[] buffer, Int32 offset, Int32 count)
   在 System.IO.BufferedStream.Read(Byte[] array, Int32 offset, Int32 count)
   在 MySql.Data.MySqlClient.MySqlStream.ReadFully(Stream stream, Byte[] buffer, Int32 offset, Int32 count)
   在 MySql.Data.MySqlClient.MySqlStream.LoadPacket()
   在 MySql.Data.MySqlClient.MySqlStream.ReadPacket()
   在 MySql.Data.MySqlClient.NativeDriver.GetResult(Int32& affectedRow, Int64& insertedId)
   在 MySql.Data.MySqlClient.Driver.GetResult(Int32 statementId, Int32& affectedRows, Int64& insertedId)
   在 MySql.Data.MySqlClient.Driver.NextResult(Int32 statementId, Boolean force)
   在 MySql.Data.MySqlClient.MySqlDataReader.NextResult()
   在 MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)
   --- 内部异常堆栈跟踪的结尾 ---
   在 MySql.Data.MySqlClient.ExceptionInterceptor.Throw(Exception exception)
   在 MySql.Data.MySqlClient.MySqlConnection.Throw(Exception ex)
   在 MySql.Data.MySqlClient.MySqlConnection.HandleTimeoutOrThreadAbort(Exception ex)
   在 MySql.Data.MySqlClient.MySqlCommand.ExecuteReader(CommandBehavior behavior)
   在 MySql.Data.Entity.EFMySqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   在 System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   在 System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.<Reader>b__c(DbCommand t, DbCommandInterceptionContext`1 c)
   在 System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext,TResult](TTarget target, Func`3 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   在 System.Data.Entity.Infrastructure.Interception.DbCommandDispatcher.Reader(DbCommand command, DbCommandInterceptionContext interceptionContext)
   在 System.Data.Entity.Internal.InterceptableDbCommand.ExecuteDbDataReader(CommandBehavior behavior)
   在 System.Data.Common.DbCommand.ExecuteReader(CommandBehavior behavior)
   在 System.Data.Entity.Core.EntityClient.Internal.EntityCommandDefinition.ExecuteStoreCommands(EntityCommand entityCommand, CommandBehavior behavior)
   --- 内部异常堆栈跟踪的结尾 ---
   在 System.Data.Entity.Core.EntityClient.Internal.EntityCommandDefinition.ExecuteStoreCommands(EntityCommand entityCommand, CommandBehavior behavior)
   在 System.Data.Entity.Core.Objects.Internal.ObjectQueryExecutionPlan.Execute[TResultType](ObjectContext context, ObjectParameterCollection parameterValues)
   在 System.Data.Entity.Core.Objects.ObjectQuery`1.<>c__DisplayClass7.<GetResults>b__6()
   在 System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   在 System.Data.Entity.Core.Objects.ObjectQuery`1.<>c__DisplayClass7.<GetResults>b__5()
   在 System.Data.Entity.Infrastructure.DefaultExecutionStrategy.Execute[TResult](Func`1 operation)
   在 System.Data.Entity.Core.Objects.ObjectQuery`1.GetResults(Nullable`1 forMergeOption)
   在 System.Data.Entity.Core.Objects.ObjectQuery`1.<System.Collections.Generic.IEnumerable<T>.GetEnumerator>b__0()
   在 System.Data.Entity.Internal.LazyEnumerator`1.MoveNext()
   在 System.Linq.Buffer`1..ctor(IEnumerable`1 source)
   在 System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)
   在 Himall.Service.SiteSettingService.GetSiteSettings() 位置 E:\合作项目\mall\Himall3.0\src\Himall.Service\System\SiteSettingService.cs:行号 27
   在 Himall.Application.SiteSettingApplication.GetSiteSettings() 位置 E:\合作项目\mall\Himall3.0\src\Himall.Application\SiteSettingApplication.cs:行号 23
   在 Himall.Web.Framework.BaseController.get_CurrentSiteSetting() 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web.Framework\BaseControllers\BaseController.cs:行号 401
   在 Himall.Web.Framework.BaseController.OnAuthorization(AuthorizationContext filterContext) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web.Framework\BaseControllers\BaseController.cs:行号 579
   在 System.Web.Mvc.Controller.System.Web.Mvc.IAuthorizationFilter.OnAuthorization(AuthorizationContext filterContext)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeAuthorizationFilters(ControllerContext controllerContext, IList`1 filters, ActionDescriptor actionDescriptor)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__19(AsyncCallback asyncCallback, Object asyncState)



 记录时间：2018-12-18 13:36:59,403 
日志级别：  ERROR 
出错类：Himall.Web.Framework.BaseController.OnException  
错误描述：页面未捕获的异常：Area:Mobile,Controller:Payment,Action:PayByCapitalIsOk,id:Get:post:ids=2018121891145510 

System.Data.Entity.Core.EntityException: 基础提供程序在 Open 上失败。 ---> MySql.Data.MySqlClient.MySqlException: Authentication to host '115.159.93.175' for user 'root' using method 'mysql_native_password' failed with message: Reading from the stream has failed. ---> MySql.Data.MySqlClient.MySqlException: Reading from the stream has failed. ---> System.IO.EndOfStreamException: 尝试读取超出流末尾的内容。
   在 MySql.Data.MySqlClient.MySqlStream.ReadFully(Stream stream, Byte[] buffer, Int32 offset, Int32 count)
   在 MySql.Data.MySqlClient.MySqlStream.LoadPacket()
   --- 内部异常堆栈跟踪的结尾 ---
   在 MySql.Data.MySqlClient.MySqlStream.LoadPacket()
   在 MySql.Data.MySqlClient.MySqlStream.ReadPacket()
   在 MySql.Data.MySqlClient.Authentication.MySqlAuthenticationPlugin.ReadPacket()
   --- 内部异常堆栈跟踪的结尾 ---
   在 MySql.Data.MySqlClient.Authentication.MySqlAuthenticationPlugin.AuthenticationFailed(Exception ex)
   在 MySql.Data.MySqlClient.Authentication.MySqlAuthenticationPlugin.ReadPacket()
   在 MySql.Data.MySqlClient.Authentication.MySqlAuthenticationPlugin.Authenticate(Boolean reset)
   在 MySql.Data.MySqlClient.NativeDriver.Authenticate(String authMethod, Boolean reset)
   在 MySql.Data.MySqlClient.NativeDriver.Open()
   在 MySql.Data.MySqlClient.Driver.Open()
   在 MySql.Data.MySqlClient.Driver.Create(MySqlConnectionStringBuilder settings)
   在 MySql.Data.MySqlClient.MySqlPool.CreateNewPooledConnection()
   在 MySql.Data.MySqlClient.MySqlPool.GetPooledConnection()
   在 MySql.Data.MySqlClient.MySqlPool.TryToGetDriver()
   在 MySql.Data.MySqlClient.MySqlPool.GetConnection()
   在 MySql.Data.MySqlClient.MySqlConnection.Open()
   在 System.Data.Entity.Infrastructure.Interception.DbConnectionDispatcher.<Open>b__38(DbConnection t, DbConnectionInterceptionContext c)
   在 System.Data.Entity.Infrastructure.Interception.InternalDispatcher`1.Dispatch[TTarget,TInterceptionContext](TTarget target, Action`2 operation, TInterceptionContext interceptionContext, Action`3 executing, Action`3 executed)
   在 System.Data.Entity.Infrastructure.Interception.DbConnectionDispatcher.Open(DbConnection connection, DbInterceptionContext interceptionContext)
   在 System.Data.Entity.Core.EntityClient.EntityConnection.<Open>b__2()
   在 System.Data.Entity.Infrastructure.DefaultExecutionStrategy.Execute(Action operation)
   在 System.Data.Entity.Core.EntityClient.EntityConnection.Open()
   --- 内部异常堆栈跟踪的结尾 ---
   在 System.Data.Entity.Core.EntityClient.EntityConnection.Open()
   在 System.Data.Entity.Core.Objects.ObjectContext.EnsureConnection(Boolean shouldMonitorTransactions)
   在 System.Data.Entity.Core.Objects.ObjectContext.ExecuteInTransaction[T](Func`1 func, IDbExecutionStrategy executionStrategy, Boolean startLocalTransaction, Boolean releaseConnectionOnSuccess)
   在 System.Data.Entity.Core.Objects.ObjectQuery`1.<>c__DisplayClass7.<GetResults>b__5()
   在 System.Data.Entity.Infrastructure.DefaultExecutionStrategy.Execute[TResult](Func`1 operation)
   在 System.Data.Entity.Core.Objects.ObjectQuery`1.GetResults(Nullable`1 forMergeOption)
   在 System.Data.Entity.Core.Objects.ObjectQuery`1.<System.Collections.Generic.IEnumerable<T>.GetEnumerator>b__0()
   在 System.Data.Entity.Internal.LazyEnumerator`1.MoveNext()
   在 System.Linq.Buffer`1..ctor(IEnumerable`1 source)
   在 System.Linq.Enumerable.ToArray[TSource](IEnumerable`1 source)
   在 Himall.Service.SiteSettingService.GetSiteSettings() 位置 E:\合作项目\mall\Himall3.0\src\Himall.Service\System\SiteSettingService.cs:行号 27
   在 Himall.Application.SiteSettingApplication.GetSiteSettings() 位置 E:\合作项目\mall\Himall3.0\src\Himall.Application\SiteSettingApplication.cs:行号 23
   在 Himall.Web.Framework.BaseController.get_CurrentSiteSetting() 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web.Framework\BaseControllers\BaseController.cs:行号 401
   在 Himall.Web.Framework.BaseController.OnAuthorization(AuthorizationContext filterContext) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web.Framework\BaseControllers\BaseController.cs:行号 579
   在 System.Web.Mvc.Controller.System.Web.Mvc.IAuthorizationFilter.OnAuthorization(AuthorizationContext filterContext)
   在 System.Web.Mvc.ControllerActionInvoker.InvokeAuthorizationFilters(ControllerContext controllerContext, IList`1 filters, ActionDescriptor actionDescriptor)
   在 System.Web.Mvc.Async.AsyncControllerActionInvoker.<>c__DisplayClass21.<BeginInvokeAction>b__19(AsyncCallback asyncCallback, Object asyncState)



 记录时间：2018-12-18 13:42:29,236 
日志级别：  ERROR 
出错类：Himall.Service.Weixin.WXHelper.GetAccessToken  
错误描述：[WXACT]appId=wx8b2369d7a650c5eb;appSecret=727336d57bd539781ac341124192afa7;微信请求发生错误！错误代码：40164，说明：invalid ip 222.64.199.11, not in whitelist hint: [pPCgVA0524hb96] 




 记录时间：2018-12-18 13:47:39,300 
日志级别：  ERROR 
出错类：Himall.Service.Weixin.WXHelper.GetAccessToken  
错误描述：[WXACT]appId=wx8b2369d7a650c5eb;appSecret=727336d57bd539781ac341124192afa7;微信请求发生错误！错误代码：40164，说明：invalid ip 222.64.199.11, not in whitelist hint: [oRUAoa0824hb92] 




 记录时间：2018-12-18 17:02:00,107 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Notify  
错误描述：移动端支付异步通知返回出错，支持方式：Himall.Plugin.Payment.WeiXinPay 

System.Xml.XmlException: 根级别上的数据无效。 第 1 行，位置 1。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.Throw(String res, String arg)
   在 System.Xml.XmlTextReaderImpl.ParseRootLevelWhitespace()
   在 System.Xml.XmlTextReaderImpl.ParseDocumentContent()
   在 System.Xml.XmlTextReaderImpl.Read()
   在 System.Xml.XmlLoader.Load(XmlDocument doc, XmlReader reader, Boolean preserveWhitespace)
   在 System.Xml.XmlDocument.Load(XmlReader reader)
   在 System.Xml.XmlDocument.Load(Stream inStream)
   在 Himall.WeixinPaymentBase.ResponseHandler..ctor(HttpRequestBase request)
   在 Himall.WeixinPaymentBase.ServiceBase.ProcessNotify(HttpRequestBase request)
   在 Himall.Plugin.Payment.WeiXinPay.Service.Himall.Core.Plugins.Payment.IPaymentPlugin.ProcessNotify(HttpRequestBase context)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Notify(String id) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 284



 记录时间：2018-12-18 17:04:52,260 
日志级别：  ERROR 
出错类：Himall.Web.Areas.Mobile.Controllers.PaymentController.Notify  
错误描述：移动端支付异步通知返回出错，支持方式：Himall.Plugin.Payment.WeiXinPay 

System.Xml.XmlException: 根级别上的数据无效。 第 1 行，位置 1。
   在 System.Xml.XmlTextReaderImpl.Throw(Exception e)
   在 System.Xml.XmlTextReaderImpl.Throw(String res, String arg)
   在 System.Xml.XmlTextReaderImpl.ParseRootLevelWhitespace()
   在 System.Xml.XmlTextReaderImpl.ParseDocumentContent()
   在 System.Xml.XmlTextReaderImpl.Read()
   在 System.Xml.XmlLoader.Load(XmlDocument doc, XmlReader reader, Boolean preserveWhitespace)
   在 System.Xml.XmlDocument.Load(XmlReader reader)
   在 System.Xml.XmlDocument.Load(Stream inStream)
   在 Himall.WeixinPaymentBase.ResponseHandler..ctor(HttpRequestBase request)
   在 Himall.WeixinPaymentBase.ServiceBase.ProcessNotify(HttpRequestBase request)
   在 Himall.Plugin.Payment.WeiXinPay.Service.Himall.Core.Plugins.Payment.IPaymentPlugin.ProcessNotify(HttpRequestBase context)
   在 Himall.Web.Areas.Mobile.Controllers.PaymentController.Notify(String id) 位置 E:\合作项目\mall\Himall3.0\src\Himall.Web\Areas\Mobile\Controllers\PaymentController.cs:行号 284
